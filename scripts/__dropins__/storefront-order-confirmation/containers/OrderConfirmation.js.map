{"version":3,"file":"OrderConfirmation.js","sources":["../../src/hooks/useBreakpoint/useBreakpoint.ts","../../src/reducers/orderConfirmation.ts","../../src/components/OrderConfirmation/OrderConfirmation.tsx","../../node_modules/@adobe/elsie/src/icons/OrderSuccess.svg","../../node_modules/@adobe/elsie/src/icons/WarningFilled.svg","../../src/components/Header/Header.tsx","../../src/components/Header/HeaderSkeleton.tsx","../../src/components/OrderSearchForm/OrderSearchForm.tsx","../../src/components/Details/Details.tsx","../../src/components/Details/DetailsSkeleton.tsx","../../src/components/Footer/Footer.tsx","../../src/components/Footer/FooterSkeleton.tsx","../../src/components/StaticSkeleton/StaticSkeleton.tsx","../../src/components/OrderSummary/OrderSummary.tsx","../../src/components/OrderSummary/OrderSummarySkeleton.tsx","../../src/components/CartSummaryItem/CartSummaryItem.tsx","../../src/data/transforms/transform-order-items.ts","../../src/components/CartSummary/CartSummary.tsx","../../src/components/CartSummary/CartSummarySkeleton.tsx","../../src/containers/OrderConfirmation/OrderConfirmation.tsx"],"sourcesContent":["import { useEffect, useState } from 'preact/hooks';\n\nexport const useBreakpoint = () => {\n  const getBreakpoint = () => {\n    if (window.innerWidth >= 1920) return 'xxlarge';\n    if (window.innerWidth >= 1366) return 'xlarge';\n    if (window.innerWidth >= 1024) return 'large';\n    if (window.innerWidth >= 768) return 'medium';\n\n    return 'small';\n  };\n\n  const [breakpoint, setBreakpoint] = useState<\n    ReturnType<typeof getBreakpoint>\n  >(getBreakpoint());\n\n  useEffect(() => {\n    let timeoutId: ReturnType<typeof setTimeout>;\n\n    const handleResize = () => {\n      if (timeoutId) clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => setBreakpoint(getBreakpoint()), 50);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      if (timeoutId) clearTimeout(timeoutId);\n    };\n  }, []);\n\n  return breakpoint;\n};\n","import {\n  GuestOrderByTokenQuery,\n  GuestOrderQuery,\n} from '@/order-confirmation/__generated__/types';\n\nexport enum Actions {\n  ADD_ORDER_REFERENCE = 'ADD_ORDER_REFERENCE',\n  LOADING = 'LOADING',\n  SET_DETAILS = 'SET_DETAILS',\n  ALERT = 'ALERT',\n  DISMISS_ALERT = 'DISMISS_ALERT',\n}\n\nexport type OrderDetails =\n  | GuestOrderQuery['guestOrder']\n  | GuestOrderByTokenQuery['guestOrderByToken'];\n\ninterface LoadingAction {\n  type: Actions.LOADING;\n}\n\ninterface SetDetailsAction {\n  type: Actions.SET_DETAILS;\n  details: OrderDetails | null;\n  alert?: Alert;\n}\n\nexport enum AlertType {\n  ERROR = 'error',\n  WARNING = 'warning',\n  SUCCESS = 'success',\n}\n\nexport enum AlertCode {\n  INVALID_ORDER = 'invalid_order',\n  INVALID_SEARCH = 'invalid_search',\n  UNKNOWN = 'unknown_error',\n}\n\nexport type Alert = {\n  type: AlertType;\n  code: AlertCode;\n  message: string;\n};\n\ninterface AlertAction {\n  type: Actions.ALERT;\n  alert: Alert;\n}\n\ninterface DismissAlertAction {\n  type: Actions.DISMISS_ALERT;\n}\n\nexport interface State {\n  isLoading: boolean;\n  details: OrderDetails | null;\n  orderRef?: string;\n  alert?: Alert;\n}\n\ntype Action =\n  | LoadingAction\n  | SetDetailsAction\n  | AlertAction\n  | DismissAlertAction;\n\nexport function orderConfirmationReducer(state: State, action: Action): State {\n  switch (action.type) {\n    case Actions.LOADING:\n      return {\n        ...state,\n        isLoading: true,\n      };\n    case Actions.SET_DETAILS:\n      return {\n        ...state,\n        isLoading: false,\n        details: action.details,\n        alert: action.alert,\n      };\n    case Actions.ALERT:\n      return {\n        ...state,\n        isLoading: false,\n        alert: action.alert,\n      };\n    case Actions.DISMISS_ALERT:\n      return {\n        ...state,\n        alert: undefined,\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  CartSummary,\n  Details,\n  Footer,\n  Header,\n  OrderSearchFields,\n  OrderSearchForm,\n  OrderSummary,\n  Summary,\n} from '@/order-confirmation/components';\nimport { useBreakpoint } from '@/order-confirmation/hooks/useBreakpoint';\nimport {\n  AlertCode,\n  State,\n} from '@/order-confirmation/reducers/orderConfirmation';\nimport { classes } from '@adobe/elsie/lib';\nimport '@/order-confirmation/components/OrderConfirmation/OrderConfirmation.css';\nimport { FunctionComponent, VNode } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\n\nconst ConditionalWrapper: FunctionComponent<{\n  children?: VNode;\n  className: string;\n}> = ({ children, className }) => {\n  const breakpoint = useBreakpoint();\n  return breakpoint !== 'small' ? (\n    <div className={className}>{children}</div>\n  ) : (\n    <>{children}</>\n  );\n};\n\nexport interface OrderConfirmationProps extends HTMLAttributes<HTMLDivElement> {\n  state: State;\n  dismissAlert: () => void;\n  onOrderSearch: (fields: OrderSearchFields) => void;\n  routeHome?: () => string;\n  routeSupport?: () => string;\n}\n\n// TODO types\nfunction mapDetailsToSummary(orderDetails: any): Summary | undefined {\n  const total = orderDetails?.total;\n  const isVirtual = orderDetails?.is_virtual;\n\n  if (!total) {\n    return undefined;\n  }\n\n  const grandTotal = total?.grand_total;\n  const subtotal = total?.subtotal;\n  const shipping = total?.total_shipping;\n  const tax = total?.total_tax;\n\n  return {\n    total: {\n      inclTax: {\n        amount: grandTotal?.value || 0,\n        currency: grandTotal?.currency || '',\n      },\n    },\n    subtotal: {\n      amount: subtotal?.value || 0,\n      currency: subtotal?.currency || '',\n      isTaxIncl: false,\n    },\n    shipping: {\n      amount: shipping?.value || 0,\n      currency: shipping?.currency || '',\n      isVirtual: isVirtual,\n    },\n    tax: {\n      amount: tax?.value || 0,\n      currency: tax?.currency || '',\n    },\n  };\n}\n\ntype AsideProps = {\n  state: State;\n};\n\nconst Aside: FunctionComponent<AsideProps> = ({ state }) => {\n  const { isLoading, details } = state;\n  const summary = mapDetailsToSummary(details);\n\n  return (\n    <>\n      <OrderSummary isLoading={isLoading} summary={summary} />\n      <CartSummary isLoading={isLoading} details={details} />\n    </>\n  );\n};\n\nconst AsideElement: FunctionComponent<AsideProps> = ({ state }) => {\n  return (\n    <ConditionalWrapper className=\"order-confirmation__aside\">\n      <Aside state={state} />\n    </ConditionalWrapper>\n  );\n};\n\nconst Main: FunctionComponent<OrderConfirmationProps> = ({\n  state,\n  routeHome,\n  routeSupport,\n}) => {\n  const { details, isLoading } = state;\n\n  const billingAddress = details?.billing_address;\n  const customerName = billingAddress?.firstname || '';\n  const orderNumber = details?.number || '';\n  const orderStatus = details?.status || '';\n\n  const showCustomerHeader = !!customerName && !!orderNumber;\n\n  return (\n    <>\n      {(isLoading || (!isLoading && showCustomerHeader)) && (\n        <Header\n          isLoading={isLoading}\n          customerName={customerName}\n          orderNumber={orderNumber}\n          orderStatus={orderStatus}\n        />\n      )}\n\n      <Details isLoading={isLoading} orderDetails={details} />\n\n      <Footer\n        isLoading={isLoading}\n        routeHome={routeHome}\n        routeSupport={routeSupport}\n      />\n    </>\n  );\n};\n\nconst MainElement: FunctionComponent<OrderConfirmationProps> = ({\n  state,\n  routeHome,\n  routeSupport,\n  dismissAlert,\n  onOrderSearch,\n}) => {\n  return (\n    <ConditionalWrapper className=\"order-confirmation__main\">\n      <Main\n        state={state}\n        routeHome={routeHome}\n        routeSupport={routeSupport}\n        dismissAlert={dismissAlert}\n        onOrderSearch={onOrderSearch}\n      />\n    </ConditionalWrapper>\n  );\n};\n\nexport const OrderConfirmation: FunctionComponent<OrderConfirmationProps> = ({\n  className,\n  state,\n  dismissAlert,\n  routeHome,\n  routeSupport,\n  onOrderSearch,\n}) => {\n  const { details, alert, isLoading } = state;\n  const hasOrderDetails = !!details?.number;\n  const isInvalidOrder = alert && alert.code === AlertCode.INVALID_ORDER;\n  const isInvalidSearch = alert && alert.code === AlertCode.INVALID_SEARCH;\n\n  if (!isLoading && !hasOrderDetails) {\n    return (\n      <div className={classes(['order-confirmation', className])}>\n        <OrderSearchForm\n          alert={\n            isInvalidOrder || isInvalidSearch\n              ? {\n                  heading: alert.message,\n                  description: '',\n                  type: alert.type,\n                  onDismiss: dismissAlert,\n                }\n              : undefined\n          }\n          onOrderSearch={onOrderSearch}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={classes(['order-confirmation', className])}>\n      <MainElement\n        state={state}\n        dismissAlert={dismissAlert}\n        routeHome={routeHome}\n        routeSupport={routeSupport}\n        onOrderSearch={onOrderSearch}\n      />\n      <AsideElement state={state} />\n    </div>\n  );\n};\n","import * as React from \"react\";\nconst SvgOrderSuccess = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip0_4797_15077)\" }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M10.15 20.85L1.5 17.53V6.63L10.15 10V20.85Z\", stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M1.5 6.63001L10.15 3.20001L18.8 6.63001L10.15 10L1.5 6.63001Z\", stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M6.17969 4.77002L14.8297 8.15002V11.47\", stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M18.7896 12.64V6.63L10.1396 10V20.85L14.8296 19.05\", stroke: \"currentColor\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { className: \"success-icon\", vectorEffect: \"non-scaling-stroke\", d: \"M15.71 17.26C15.71 15.38 17.23 13.86 19.11 13.86C20.99 13.86 22.51 15.38 22.51 17.26C22.51 19.14 20.99 20.66 19.11 20.66C17.23 20.66 15.71 19.14 15.71 17.26Z\", stroke: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { className: \"success-icon\", vectorEffect: \"non-scaling-stroke\", d: \"M17.4805 17.49L18.5605 18.41L20.7205 16.33\", stroke: \"currentColor\", strokeLinecap: \"square\", strokeLinejoin: \"round\" })), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip0_4797_15077\" }, /* @__PURE__ */ React.createElement(\"rect\", { width: 22, height: 18.65, fill: \"white\", transform: \"translate(1 2.70001)\" }))));\nexport default SvgOrderSuccess;\n","import * as React from \"react\";\nconst SvgWarningFilled = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 20.8953L12.1922 1.5L23.395 20.8953H1ZM13.0278 13.9638L13.25 10.0377V9H11.25V10.0377L11.4722 13.9638H13.0278ZM11.2994 16V17.7509H13.2253V16H11.2994Z\", fill: \"currentColor\" }));\nexport default SvgWarningFilled;\n","import { FunctionComponent } from 'preact';\nimport { Icon } from '@adobe/elsie/components';\nimport { OrderSuccess } from '@adobe/elsie/icons';\nimport { Text } from '@adobe/elsie/i18n';\nimport { HeaderSkeleton } from '@/order-confirmation/components';\nimport '@/order-confirmation/components/Header/Header.css';\n\nexport interface HeaderProps {\n  isLoading: boolean;\n  customerName?: string;\n  orderNumber?: string;\n  orderStatus?: string;\n}\nexport const Header: FunctionComponent<HeaderProps> = ({\n  isLoading,\n  customerName,\n  orderNumber,\n  orderStatus,\n}) => {\n  if (isLoading) {\n    return <HeaderSkeleton />;\n  }\n\n  return (\n    <div className={'order-confirmation-header order-confirmation__card'}>\n      <Icon\n        source={OrderSuccess}\n        size=\"64\"\n        className={'order-confirmation-header__icon'}\n      />\n\n      <h1 className={'order-confirmation-header__title'}>\n        {customerName ? (\n          <Text\n            id={'OrderConfirmation.Header.title'}\n            fields={{ name: customerName }}\n          />\n        ) : (\n          <Text id={'OrderConfirmation.Header.defaultTitle'} />\n        )}\n      </h1>\n\n      {orderNumber && (\n        <p>\n          <Text\n            id={'OrderConfirmation.Header.order'}\n            fields={{ order: orderNumber }}\n          />\n          {orderStatus !== undefined && orderStatus !== '' && (\n            <span className={'order-confirmation-header__status'}>\n              {' '}\n              ({orderStatus})\n            </span>\n          )}\n        </p>\n      )}\n    </div>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { Skeleton, SkeletonRow } from '@adobe/elsie/components';\n\nexport const HeaderSkeleton: FunctionComponent = () => {\n  return (\n    <Skeleton\n      data-testid=\"order-confirmation-header-skeleton\"\n      className={'order-confirmation-header'}\n    >\n      <SkeletonRow variant={'empty'} size=\"xlarge\" fullWidth={true} />\n      <SkeletonRow variant={'empty'} size=\"medium\" />\n      <SkeletonRow variant={'empty'} size=\"medium\" />\n      <SkeletonRow variant={'empty'} size=\"medium\" />\n      <SkeletonRow variant={'empty'} size=\"medium\" />\n      <SkeletonRow variant={'empty'} size=\"medium\" />\n      <SkeletonRow size=\"small\" fullWidth={true} />\n      <SkeletonRow variant={'heading'} size=\"xsmall\" fullWidth={true} />\n    </Skeleton>\n  );\n};\n","import {\n  Button,\n  Card,\n  Field,\n  Icon,\n  InLineAlert,\n  Input,\n} from '@adobe/elsie/components';\nimport { InLineAlertProps } from '@adobe/elsie/components/InLineAlert/InLineAlert';\nimport { Text, useText } from '@adobe/elsie/i18n';\nimport { WarningFilled } from '@adobe/elsie/icons';\nimport { getFormValues } from '@adobe/elsie/lib';\nimport { FunctionComponent } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport '@/order-confirmation/components/OrderSearchForm/OrderSearchForm.css';\n\nexport interface OrderSearchFields {\n  email: string;\n  number: string;\n  postcode?: string;\n}\n\nexport interface OrderSearchFormProps extends HTMLAttributes<HTMLDivElement> {\n  alert?: InLineAlertProps;\n  onOrderSearch?: (fields: OrderSearchFields) => void;\n}\n\nexport const OrderSearchForm: FunctionComponent<OrderSearchFormProps> = ({\n  alert,\n  onOrderSearch,\n}) => {\n  const translations = useText({\n    email: 'OrderConfirmation.OrderSearchForm.email',\n    postcode: 'OrderConfirmation.OrderSearchForm.postcode',\n    number: 'OrderConfirmation.OrderSearchForm.orderNumber',\n  });\n\n  const handleSubmit = (event: Event) => {\n    event.preventDefault();\n    const formValues = getFormValues(event.target as HTMLFormElement);\n    onOrderSearch?.(formValues as OrderSearchFields);\n  };\n\n  return (\n    <Card\n      variant={'secondary'}\n      className={\n        'order-confirmation-order-search-form order-confirmation__card'\n      }\n    >\n      <h2 className={'order-confirmation-order-search-form__title'}>\n        <Text id={'OrderConfirmation.OrderSearchForm.title'} />\n      </h2>\n\n      <p>\n        <Text id={'OrderConfirmation.OrderSearchForm.description'} />\n      </p>\n\n      {alert && (\n        <InLineAlert\n          className={'order-confirmation-order-search-form__alert'}\n          data-testid=\"order-confirmation-alert\"\n          icon={<Icon source={WarningFilled} />}\n          {...alert}\n        />\n      )}\n\n      <form\n        className={'order-confirmation-order-search-form__fields'}\n        onSubmit={handleSubmit}\n      >\n        <div className={'order-confirmation-order-search-form__fields-columns'}>\n          <Field>\n            <Input\n              id=\"order-email\"\n              name=\"email\"\n              type={'email'}\n              autocomplete={'email'}\n              placeholder={translations.email}\n              floatingLabel={translations.email}\n              required={true}\n              aria-label={translations.email}\n              aria-required={true}\n            />\n          </Field>\n\n          <Field>\n            <Input\n              id=\"postcode\"\n              name=\"postcode\"\n              type={'text'}\n              autocomplete={'postal-code'}\n              placeholder={translations.postcode}\n              floatingLabel={translations.postcode}\n              required={false}\n              aria-label={translations.postcode}\n              aria-required={true}\n            />\n          </Field>\n        </div>\n\n        <Field>\n          <Input\n            id=\"order-number\"\n            name=\"number\"\n            type={'text'}\n            placeholder={translations.number}\n            floatingLabel={translations.number}\n            required={true}\n            aria-label={translations.number}\n            aria-required={true}\n          />\n        </Field>\n\n        <Button\n          className={'order-confirmation-order-search-form__button'}\n          size={'medium'}\n          variant={'primary'}\n          key={'logIn'}\n          type={'submit'}\n        >\n          <Text id={'OrderConfirmation.OrderSearchForm.button'} />\n        </Button>\n      </form>\n    </Card>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport '@/order-confirmation/components/Details/Details.css';\nimport { Price, Card } from '@adobe/elsie/components';\nimport { Text } from '@adobe/elsie/i18n';\nimport { OrderDetails } from '@/order-confirmation/reducers/orderConfirmation';\nimport {\n  StaticSkeleton,\n  DetailsSkeleton,\n} from '@/order-confirmation/components';\n\nexport interface DetailsProps extends HTMLAttributes<HTMLDivElement> {\n  isLoading: boolean;\n  orderDetails: OrderDetails | null;\n}\n\nexport const Details: FunctionComponent<DetailsProps> = ({\n  isLoading,\n  orderDetails,\n}) => {\n  if (isLoading) {\n    return <DetailsSkeleton />;\n  }\n\n  const hasOrderDetails = orderDetails && orderDetails?.number;\n\n  const contactDetails = orderDetails?.email || '';\n  const hasToDisplayContactDetails = orderDetails && contactDetails !== '';\n\n  const shippingAddress = orderDetails?.shipping_address;\n  const hasToDisplayShippingAddress = orderDetails && shippingAddress !== null;\n\n  const billingAddress = orderDetails?.billing_address;\n  const hasToDisplayBillingAddress = orderDetails && billingAddress !== null;\n\n  const shippingMethod = orderDetails?.shipping_method;\n  const shippingCost = orderDetails?.total?.total_shipping?.value;\n  const shippingCurrency = orderDetails?.total?.total_shipping?.currency;\n  const hasToDisplayShippingMethod =\n    orderDetails && shippingMethod && shippingCurrency && shippingCost != null;\n\n  const paymentMethods = orderDetails?.payment_methods;\n  const hasPaymentMethod = paymentMethods && paymentMethods.length > 0;\n  const selectedPaymentMethod = hasPaymentMethod ? paymentMethods[0]?.name : '';\n  const hasToDisplayPaymentMethod =\n    orderDetails && hasPaymentMethod && selectedPaymentMethod !== '';\n\n  return (\n    <Card\n      variant={'secondary'}\n      className={'order-confirmation-details order-confirmation__card'}\n    >\n      <div className={'order-confirmation-details__header'}>\n        <h2 className={'order-confirmation-details__title'}>\n          <Text id={'OrderConfirmation.Details.title'} />\n        </h2>\n      </div>\n\n      <div className={'order-confirmation-details__contact'}>\n        {(!orderDetails || hasToDisplayContactDetails) && (\n          <h3>\n            <Text id={'OrderConfirmation.Details.contact'} />\n          </h3>\n        )}\n\n        {hasToDisplayContactDetails && <p>{contactDetails}</p>}\n\n        {!hasOrderDetails && (\n          <StaticSkeleton\n            rows={1}\n            data-testid=\"order-confirmation-details-contact-skeleton\"\n          />\n        )}\n      </div>\n\n      <div className={'order-confirmation-details__information'}>\n        <div className={'order-confirmation-details__shipping_address'}>\n          {(!hasOrderDetails || hasToDisplayShippingAddress) && (\n            <h3>\n              <Text id={'OrderConfirmation.Details.shippingAddress'} />\n            </h3>\n          )}\n\n          {hasToDisplayShippingAddress && (\n            <>\n              <p>\n                {shippingAddress?.firstname} {shippingAddress?.lastname}\n              </p>\n\n              {shippingAddress?.street.map((street, index) => (\n                <p key={index}>{street}</p>\n              ))}\n\n              <p>\n                {shippingAddress?.city} {shippingAddress?.region}{' '}\n                {shippingAddress?.postcode}, {shippingAddress?.country_code}\n              </p>\n            </>\n          )}\n\n          {!hasOrderDetails && (\n            <StaticSkeleton\n              rows={3}\n              data-testid=\"order-confirmation-shipping-address-skeleton\"\n            />\n          )}\n        </div>\n\n        <div className={'order-confirmation-details__billing_address'}>\n          {(!hasOrderDetails || hasToDisplayBillingAddress) && (\n            <h3>\n              <Text id={'OrderConfirmation.Details.billingAddress'} />\n            </h3>\n          )}\n\n          {hasToDisplayBillingAddress && (\n            <>\n              <p>\n                {billingAddress?.firstname} {billingAddress?.lastname}\n              </p>\n\n              {billingAddress?.street.map((street, index) => (\n                <p key={index}>{street}</p>\n              ))}\n\n              <p>\n                {billingAddress?.city} {billingAddress?.region}{' '}\n                {billingAddress?.postcode}, {billingAddress?.country_code}\n              </p>\n            </>\n          )}\n\n          {!hasOrderDetails && (\n            <StaticSkeleton\n              rows={3}\n              data-testid=\"order-confirmation-billing-address-skeleton\"\n            />\n          )}\n        </div>\n\n        <div className={'order-confirmation-details__shipping-method'}>\n          {(!hasOrderDetails || hasToDisplayShippingMethod) && (\n            <h3>\n              <Text id={'OrderConfirmation.Details.shippingMethod'} />\n            </h3>\n          )}\n\n          {hasToDisplayShippingMethod && (\n            <>\n              {shippingCost === 0 ? (\n                <p className=\"order-confirmation-order-summary__price\">\n                  <Text id=\"OrderConfirmation.Details.freeShipping\" />\n                </p>\n              ) : (\n                <p>\n                  <Price amount={shippingCost} currency={shippingCurrency} />{' '}\n                  {shippingMethod}\n                </p>\n              )}\n            </>\n          )}\n\n          {!hasOrderDetails && (\n            <StaticSkeleton\n              rows={1}\n              data-testid=\"order-confirmation-details-shipping-method-skeleton\"\n            />\n          )}\n        </div>\n\n        <div className={'order-confirmation-details__payment-method'}>\n          {(!hasOrderDetails || hasToDisplayPaymentMethod) && (\n            <h3>\n              <Text id={'OrderConfirmation.Details.paymentMethod'} />\n            </h3>\n          )}\n\n          {hasToDisplayPaymentMethod && <p>{selectedPaymentMethod}</p>}\n\n          {!hasOrderDetails && (\n            <StaticSkeleton\n              rows={1}\n              data-testid=\"order-confirmation-details-payment-method-skeleton\"\n            />\n          )}\n        </div>\n      </div>\n    </Card>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { Card, Skeleton, SkeletonRow } from '@adobe/elsie/components';\n\nexport const DetailsSkeleton: FunctionComponent = () => {\n  return (\n    <Card variant={'secondary'} className={'order-confirmation-details'}>\n      <Skeleton data-testid=\"order-confirmation-details-skeleton\">\n        <SkeletonRow variant={'heading'} size=\"medium\" fullWidth={true} />\n        <SkeletonRow size=\"medium\" />\n        <SkeletonRow variant={'empty'} size=\"medium\" />\n        <SkeletonRow size=\"xlarge\" />\n        <SkeletonRow size=\"xlarge\" />\n        <SkeletonRow size=\"xlarge\" />\n        <SkeletonRow size=\"xlarge\" />\n      </Skeleton>\n    </Card>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { classes } from '@adobe/elsie/lib';\nimport { Button } from '@adobe/elsie/components';\nimport { Text } from '@adobe/elsie/i18n';\nimport { FooterSkeleton } from '@/order-confirmation/components';\nimport '@/order-confirmation/components/Footer/Footer.css';\n\nexport interface FooterProps extends HTMLAttributes<HTMLDivElement> {\n  isLoading: boolean;\n  routeHome?: () => string;\n  routeSupport?: () => string;\n}\n\nexport const Footer: FunctionComponent<FooterProps> = ({\n  isLoading,\n  className,\n  routeHome,\n  routeSupport,\n  ...props\n}) => {\n  if (isLoading) {\n    return <FooterSkeleton />;\n  }\n\n  return (\n    <div\n      className={classes(['order-confirmation-footer', className])}\n      {...props}\n    >\n      {routeHome?.() && (\n        <Button\n          data-testid=\"order-confirmation-footer__continue-button\"\n          className=\"order-confirmation-footer__continue-button\"\n          size={'medium'}\n          variant={'primary'}\n          key={'continueShopping'}\n          type={'submit'}\n          href={routeHome?.()}\n        >\n          <Text id={'OrderConfirmation.Footer.continueShopping'} />\n        </Button>\n      )}\n\n      <p className=\"order-confirmation-footer__contact-support\">\n        <Text id={'OrderConfirmation.Footer.help'} />{' '}\n        {routeSupport?.() && (\n          <a\n            href={routeSupport?.()}\n            rel={'noreferrer'}\n            className=\"order-confirmation-footer__contact-support-link\"\n            data-testid=\"order-confirmation-footer__contact-support-link\"\n          >\n            <Text id={'OrderConfirmation.Footer.contactSupport'} />\n          </a>\n        )}\n      </p>\n    </div>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { Skeleton, SkeletonRow } from '@adobe/elsie/components';\n\nexport const FooterSkeleton: FunctionComponent = () => {\n  return (\n    <Skeleton className={'order-confirmation-footer'}>\n      <SkeletonRow size=\"small\" fullWidth={true} />\n      <SkeletonRow variant={'heading'} size=\"xsmall\" fullWidth={true} />\n    </Skeleton>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { Skeleton, SkeletonRow } from '@adobe/elsie/components';\nimport '@/order-confirmation/components/StaticSkeleton/StaticSkeleton.css';\nimport { HTMLAttributes } from 'preact/compat';\n\nexport interface StaticSkeletonProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'size'> {\n  rows: number;\n  size?: 'xsmall' | 'small' | 'medium' | 'large' | 'xlarge';\n}\nexport const StaticSkeleton: FunctionComponent<StaticSkeletonProps> = ({\n  rows,\n  size = 'xsmall',\n  ...props\n}) => {\n  return (\n    <Skeleton className={'static-skeleton'} {...props}>\n      {Array.from(Array(rows).keys()).map((i) => (\n        <SkeletonRow key={i} variant={'heading'} size={size} fullWidth={true} />\n      ))}\n    </Skeleton>\n  );\n};\n","import {\n  OrderSummarySkeleton,\n  StaticSkeleton,\n} from '@/order-confirmation/components';\nimport { Card, Divider, Price } from '@adobe/elsie/components';\nimport { Text } from '@adobe/elsie/i18n';\nimport { classes } from '@adobe/elsie/lib';\nimport '@/order-confirmation/components/OrderSummary/OrderSummary.css';\nimport { FunctionComponent } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\n\nexport type CartTaxItem = {\n  label: string;\n  amount: {\n    value?: number;\n    currency?: string;\n  };\n};\n\nexport type Summary = {\n  total: {\n    inclTax: {\n      amount: number;\n      currency: string;\n    };\n    exclTax?: {\n      amount: number;\n      currency: string;\n    };\n  };\n  subtotal: {\n    amount: number;\n    currency: string;\n    isTaxIncl: boolean;\n  };\n  shipping?: {\n    amount: number;\n    currency: string;\n    isVirtual?: boolean;\n  };\n  tax?: {\n    amount: number;\n    currency: string;\n    breakdown?: CartTaxItem[];\n  };\n};\n\nexport interface OrderSummaryProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'summary'> {\n  isLoading: boolean;\n  summary?: Summary;\n  variant?: 'primary' | 'secondary';\n}\n\nexport const OrderSummary: FunctionComponent<OrderSummaryProps> = ({\n  className,\n  isLoading,\n  summary,\n  variant = 'secondary',\n}) => {\n  if (isLoading) {\n    return <OrderSummarySkeleton />;\n  }\n\n  const { total, subtotal, shipping, tax } = summary ?? {};\n\n  return (\n    <Card\n      className={classes(['order-confirmation-order-summary', className])}\n      variant={variant}\n    >\n      {/* move heading to elsie? */}\n      <h2 className=\"order-confirmation-order-summary__title\">\n        <Text id=\"OrderConfirmation.OrderSummary.title\" />\n      </h2>\n\n      <Divider variant=\"primary\" />\n\n      {subtotal != undefined ? (\n        <div\n          data-testid=\"order-summary-subtotal\"\n          className=\"order-confirmation-order-summary__row\"\n        >\n          <p>\n            <Text id=\"OrderConfirmation.OrderSummary.subtotal\" />\n          </p>\n          <Price\n            amount={subtotal?.amount}\n            currency={subtotal?.currency}\n            className={classes([\n              'order-confirmation-order-summary__price',\n              className,\n            ])}\n          />\n        </div>\n      ) : (\n        <StaticSkeleton\n          rows={1}\n          data-testid=\"order-confirmation-order-summary-subtotal-skeleton\"\n        />\n      )}\n\n      {subtotal?.isTaxIncl && (\n        <div\n          data-testid=\"order-summary-subtotal-incl-tax\"\n          className=\"order-confirmation-order-summary__row order-confirmation-order-summary__row--muted\"\n        >\n          <p>\n            <Text id=\"OrderConfirmation.OrderSummary.includingTaxes\" />\n          </p>\n        </div>\n      )}\n\n      {shipping != undefined ? (\n        shipping.isVirtual ? null : (\n          <div\n            data-testid=\"order-summary-shipping\"\n            className=\"order-confirmation-order-summary__row\"\n          >\n            <p>\n              <Text id=\"OrderConfirmation.OrderSummary.shipping\" />\n            </p>\n\n            {shipping.amount === 0 ? (\n              <p className=\"order-confirmation-order-summary__price\">\n                <Text id=\"OrderConfirmation.OrderSummary.freeShipping\" />\n              </p>\n            ) : (\n              <Price\n                amount={shipping.amount}\n                currency={shipping.currency}\n                className={classes([\n                  'order-confirmation-order-summary__price',\n                  className,\n                ])}\n              />\n            )}\n          </div>\n        )\n      ) : (\n        <StaticSkeleton\n          rows={1}\n          data-testid=\"order-confirmation-order-summary-shipping-skeleton\"\n        />\n      )}\n\n      {tax != undefined && !tax.breakdown && (\n        <div\n          data-testid=\"order-summary-tax\"\n          className=\"order-confirmation-order-summary__row\"\n        >\n          <p>\n            <Text id=\"OrderConfirmation.OrderSummary.tax\" />\n          </p>\n          <Price\n            amount={tax.amount}\n            currency={tax.currency}\n            className={classes([\n              'order-confirmation-order-summary__price',\n              className,\n            ])}\n          />\n        </div>\n      )}\n\n      {tax != undefined && tax.breakdown && (\n        <>\n          <Divider variant=\"secondary\" />\n\n          <div className=\"order-confirmation-order-summary__row order-confirmation-order-summary__row--margin-bottom\">\n            <p>\n              <Text id=\"OrderConfirmation.OrderSummary.taxBreakdown\" />\n            </p>\n          </div>\n\n          {tax.breakdown.map((tax) => (\n            <div\n              data-testid=\"order-summary-tax-breakdown\"\n              key={tax.label}\n              className=\"order-confirmation-order-summary__row order-confirmation-order-summary__row--muted\"\n            >\n              <p>{tax.label}</p>\n\n              <Price\n                amount={tax.amount.value!}\n                currency={tax.amount.currency!}\n                className={classes([\n                  'order-confirmation-order-summary__price',\n                  className,\n                ])}\n              />\n            </div>\n          ))}\n\n          <div\n            data-testid=\"order-summary-tax-breakdown-total\"\n            className=\"order-confirmation-order-summary__row order-confirmation-order-summary__row--strong order-confirmation-order-summary__row--margin-top\"\n          >\n            <p>\n              <Text id=\"OrderConfirmation.OrderSummary.taxTotal\" />\n            </p>\n\n            <Price\n              amount={tax.amount}\n              currency={tax.currency}\n              className={classes([\n                'order-confirmation-order-summary__price',\n                className,\n              ])}\n            />\n          </div>\n\n          <Divider variant=\"secondary\" />\n        </>\n      )}\n\n      {total != undefined ? (\n        <div\n          data-testid=\"order-summary-total-incl-tax\"\n          className=\"order-confirmation-order-summary__row order-confirmation-order-summary__row--emphasized\"\n        >\n          <p>\n            <Text id=\"OrderConfirmation.OrderSummary.total\" />\n          </p>\n\n          <Price\n            amount={total?.inclTax.amount}\n            currency={total?.inclTax.currency}\n            className={classes([\n              'order-confirmation-order-summary__price',\n              className,\n            ])}\n          />\n        </div>\n      ) : (\n        <StaticSkeleton\n          rows={1}\n          data-testid=\"order-confirmation-order-summary-total-skeleton\"\n        />\n      )}\n\n      {total?.exclTax != undefined && (\n        <div\n          data-testid=\"order-summary-total-excl-tax\"\n          className=\"order-confirmation-order-summary__row order-confirmation-order-summary__row--muted\"\n        >\n          <p>\n            <Text id=\"OrderConfirmation.OrderSummary.totalExclTax\" />\n          </p>\n\n          <Price\n            amount={total.exclTax.amount}\n            currency={total.exclTax.currency}\n            className={classes([\n              'order-confirmation-order-summary__price',\n              className,\n            ])}\n          />\n        </div>\n      )}\n    </Card>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { Skeleton, SkeletonRow } from '@adobe/elsie/components';\n\nexport const OrderSummarySkeleton: FunctionComponent = () => {\n  return (\n    <Skeleton\n      data-testid=\"order-confirmation-order-summary-skeleton\"\n      className={'order-confirmation-order-summary'}\n    >\n      <SkeletonRow variant=\"heading\" size=\"small\" />\n      <SkeletonRow variant=\"empty\" size=\"small\" />\n      <SkeletonRow variant=\"empty\" size=\"small\" />\n      <SkeletonRow variant=\"empty\" size=\"small\" />\n      <SkeletonRow variant=\"heading\" size=\"small\" fullWidth={true} lines={3} />\n    </Skeleton>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { classes } from '@adobe/elsie/lib';\nimport { useText } from '@adobe/elsie/i18n';\nimport '@/order-confirmation/components/CartSummaryItem/CartSummaryItem.css';\nimport { CartItem, Image, Price } from '@adobe/elsie/components';\nimport { transformItems } from '@/order-confirmation/data/transforms/transform-order-items';\n\nexport interface CartSummaryItemProps extends HTMLAttributes<HTMLDivElement> {\n  item: ReturnType<typeof transformItems>;\n  taxIncluded?: boolean;\n}\n\nexport const CartSummaryItem: FunctionComponent<CartSummaryItemProps> = ({\n  className,\n  item,\n  taxIncluded = false,\n}) => {\n  const translations = useText({\n    Sender: 'OrderConfirmation.CartSummary.GiftCard.sender',\n    Recipient: 'OrderConfirmation.CartSummary.GiftCard.recipient',\n  });\n\n  let price = item.regularPrice;\n  let total = item.total;\n\n  if (taxIncluded) {\n    price = item.priceInclTax;\n    total = item.totalInclTax;\n  }\n\n  const configurations = {\n    ...('configurableOptions' in item ? item.configurableOptions : {}),\n    ...('senderName' in item && item.senderName\n      ? { [translations.Sender]: item.senderName }\n      : {}),\n    ...('senderEmail' in item && item.senderEmail\n      ? { [translations.Sender]: item.senderEmail }\n      : {}),\n    ...('recipientName' in item && item.recipientName\n      ? { [translations.Recipient]: item.recipientName }\n      : {}),\n    ...('recipientEmail' in item && item.recipientEmail\n      ? { [translations.Recipient]: item.recipientEmail }\n      : {}),\n  };\n\n  return (\n    <div\n      className={classes(['order-confirmation-cart-summary-item', className])}\n    >\n      <CartItem\n        data-testid=\"cart-summary-item\"\n        key={item.uid}\n        taxIncluded={taxIncluded}\n        title={<div data-testid=\"product-name\">{item.name}</div>}\n        sku={<div>{item.sku}</div>}\n        quantity={item.quantity!}\n        image={\n          <Image\n            src={item.image.src!}\n            alt={item.image.alt!}\n            loading=\"lazy\"\n            width=\"80\"\n            height=\"80\"\n            params={{ width: 80 }}\n          />\n        }\n        configurations={configurations}\n        price={\n          <Price\n            amount={item.regularPrice.value}\n            currency={price.currency}\n            weight=\"normal\"\n          />\n        }\n        total={\n          <>\n            <Price\n              amount={item.regularPrice.value * item.quantity!}\n              currency={price.currency}\n              variant={item.discounted ? 'strikethrough' : 'default'}\n            />\n\n            {item.discounted && (\n              <Price amount={total.value} currency={total.currency!} sale />\n            )}\n          </>\n        }\n      />\n    </div>\n  );\n};\n","import { GuestOrderDataFragment } from '@/order-confirmation/__generated__/types';\n\ntype NonNullableItems = NonNullable<GuestOrderDataFragment['items']>;\ntype NonNullableItem = NonNullable<NonNullableItems[number]>;\n\nexport function transformItems(item: NonNullableItem) {\n  return {\n    uid: item.id,\n    quantity: item.quantity_ordered,\n    sku: item.product!.sku,\n    name: item.product!.name,\n    image: {\n      src: item.product!.thumbnail!.url,\n      alt: item.product!.thumbnail!.label,\n    },\n    price: {\n      value: item.product_sale_price.value,\n      currency: item.product_sale_price.currency,\n    },\n    priceInclTax: {\n      value: item.product_sale_price.value!,\n      currency: item.product_sale_price.currency!,\n    },\n    total: {\n      value: item.product_sale_price.value! * item.quantity_ordered!,\n      currency: item.product_sale_price.currency,\n    },\n    totalInclTax: {\n      value: item.product_sale_price.value! * item.quantity_ordered!,\n      currency: item.product_sale_price.currency,\n    },\n    discount: {\n      value: 0,\n      currency: item.product_sale_price.currency,\n    },\n    regularPrice: {\n      value: item.product!.price_range.maximum_price!.regular_price.value!,\n      currency:\n        item.product!.price_range.maximum_price!.regular_price.currency!,\n    },\n    discounted:\n      item.product!.price_range.maximum_price!.regular_price.value! *\n        item.quantity_ordered! !==\n      item.product_sale_price.value! * item.quantity_ordered!,\n    configurableOptions: transformConfigurableOptions(item),\n    senderName:\n      item.__typename === 'GiftCardOrderItem'\n        ? item.gift_card!.sender_name\n        : undefined,\n    senderEmail:\n      item.__typename === 'GiftCardOrderItem'\n        ? item.gift_card!.sender_email!\n        : undefined,\n    recipientEmail:\n      item.__typename === 'GiftCardOrderItem'\n        ? item.gift_card!.recipient_email!\n        : undefined,\n    recipientName:\n      item.__typename === 'GiftCardOrderItem'\n        ? item.gift_card!.recipient_name\n        : undefined,\n  };\n}\nfunction transformConfigurableOptions(item: NonNullableItem) {\n  if (!('selected_options' in item)) return;\n\n  const configurableOptions: Record<string, string> = {};\n\n  for (const option of item.selected_options!) {\n    configurableOptions[option!.label] = option!.value;\n  }\n\n  return configurableOptions;\n}\n","import { FunctionComponent } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { Text } from '@adobe/elsie/i18n';\nimport { Card, Divider } from '@adobe/elsie/components';\nimport '@/order-confirmation/components/CartSummary/CartSummary.css';\nimport { CartSummarySkeleton } from '@/order-confirmation/components/CartSummary';\nimport { CartSummaryItem } from '@/order-confirmation/components/CartSummaryItem';\nimport { transformItems } from '@/order-confirmation/data/transforms/transform-order-items';\nimport { State } from '@/order-confirmation/reducers';\n\n// TODO details type\nexport interface CartSummaryProps extends HTMLAttributes<HTMLDivElement> {\n  isLoading: boolean;\n  details: State['details'];\n}\n\nexport const CartSummary: FunctionComponent<CartSummaryProps> = ({\n  isLoading,\n  details,\n}) => {\n  if (isLoading) {\n    return <CartSummarySkeleton />;\n  }\n\n  // TODO tax included\n  const taxIncluded = false;\n  const items = details!.items!;\n\n  // const totalQuantity = details?.items?.reduce(\n  //   (total: number, item: any) => total + item.quantity_ordered,\n  //   0\n  // );\n\n  // TODO: Quantity should be based on config: https://jira.corp.adobe.com/browse/USF-1089\n  const totalQuantity = items.length;\n\n  return (\n    <div className=\"order-confirmation-cart-summary\">\n      <Card variant=\"secondary\">\n        <div className=\"order-confirmation-cart-summary__heading\">\n          <h2 className={'order-confirmation-cart-summary__title'}>\n            <Text id=\"OrderConfirmation.CartSummary.title\" /> ({totalQuantity})\n          </h2>\n        </div>\n        <Divider\n          className=\"order-confirmation-cart-summary__divider-top\"\n          variant=\"primary\"\n        />\n\n        <div className=\"order-confirmation-cart-summary__items\">\n          {items?.map((item: any) => {\n            const cartItem = transformItems(item);\n            return (\n              <CartSummaryItem\n                key={cartItem?.uid}\n                item={cartItem}\n                taxIncluded={taxIncluded}\n              />\n            );\n          })}\n        </div>\n      </Card>\n    </div>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { Skeleton, SkeletonRow, CartItemSkeleton } from '@adobe/elsie/components';\n\nexport const CartSummarySkeleton: FunctionComponent = () => {\n  return (\n    <Skeleton\n      data-testid=\"cart-summary-skeleton\"\n      className=\"order-confirmation-cart-summary\"\n      style={{ gridTemplateColumns: '1fr' }}\n    >\n      <SkeletonRow variant=\"heading\" fullWidth={true} size=\"medium\" />\n      <CartItemSkeleton />\n      <CartItemSkeleton />\n      <CartItemSkeleton />\n      <CartItemSkeleton />\n      <CartItemSkeleton />\n    </Skeleton>\n  );\n};\n","import {\n  guestOrder,\n  GuestOrderInput,\n  guestOrderByToken,\n  customerOrder,\n} from '@/order-confirmation/api';\nimport {\n  OrderSearchFields,\n  OrderConfirmation as Component,\n} from '@/order-confirmation/components';\nimport {\n  Actions,\n  Alert,\n  AlertCode,\n  AlertType,\n  orderConfirmationReducer,\n} from '@/order-confirmation/reducers/orderConfirmation';\nimport { useText } from '@adobe/elsie/i18n';\nimport { Container } from '@adobe/elsie/lib';\nimport {\n  HTMLAttributes,\n  useCallback,\n  useState,\n  useEffect,\n  useReducer,\n} from 'preact/compat';\nimport { events } from '@adobe/event-bus';\n\nexport interface OrderConfirmationProps extends HTMLAttributes<HTMLDivElement> {\n  orderRef?: string;\n  routeHome?: () => string;\n  routeSupport?: () => string;\n}\n\nfunction useOrderConfirmation(orderRef?: string) {\n  const [state, dispatch] = useReducer(orderConfirmationReducer, {\n    isLoading: false,\n    orderRef,\n    details: null,\n  });\n  const [authenticated, setAuthenticated] = useState<boolean | undefined>();\n\n  const translations = useText({\n    invalidOrder: 'OrderConfirmation.Errors.invalidOrder',\n    invalidSearch: 'OrderConfirmation.Errors.invalidSearch',\n    pageNotFound: 'OrderConfirmation.Errors.pageNotFound',\n    unknown: 'OrderConfirmation.Errors.unknown',\n  });\n\n  const buildAlert = useCallback(\n    (message: string): Alert | undefined => {\n      switch (message) {\n        case 'Invalid order':\n        case 'Order not found':\n        case \"We couldn't locate an order with the information provided.\":\n          return {\n            type: AlertType.WARNING,\n            code: AlertCode.INVALID_ORDER,\n            message: translations.invalidOrder,\n          };\n        case 'Invalid search':\n          return {\n            type: AlertType.WARNING,\n            code: AlertCode.INVALID_SEARCH,\n            message: translations.invalidSearch,\n          };\n      }\n    },\n    [translations.invalidOrder, translations.invalidSearch]\n  );\n\n  const dismissAlert = () => {\n    dispatch({ type: Actions.DISMISS_ALERT });\n  };\n\n  const handleOrderSearch = function (fields: OrderSearchFields) {\n    fetchFormOrderDetails(fields);\n  };\n\n  useEffect(() => {\n    const customerAuthenticated = events.on(\n      'authenticated',\n      (isAuthenticated) => {\n        setAuthenticated(isAuthenticated);\n      },\n      { eager: true }\n    );\n    return () => {\n      customerAuthenticated?.off();\n    };\n  }, [authenticated]);\n\n  const fetchFormOrderDetails = useCallback(\n    (fields?: OrderSearchFields) => {\n      guestOrder(fields as GuestOrderInput)\n        .then((details) => {\n          // order number is only returned if valid order inputs are provided\n          const hasOrderDetails = !!details?.number;\n\n          const alert = hasOrderDetails\n            ? undefined\n            : buildAlert('Invalid search');\n\n          dispatch({\n            type: Actions.SET_DETAILS,\n            details,\n            alert,\n          });\n        })\n        .catch(() => {\n          const alert = buildAlert('Invalid search');\n\n          dispatch({\n            type: Actions.SET_DETAILS,\n            details: null,\n            alert,\n          });\n        });\n    },\n    [buildAlert]\n  );\n\n  const fetchOrderDetails = useCallback(\n    (orderRef: string) => {\n      const fetchOrderApiCall = authenticated\n        ? customerOrder\n        : guestOrderByToken;\n\n      fetchOrderApiCall(orderRef)\n        .then((details) => {\n          // order number is only returned if valid order inputs are provided\n          const hasOrderDetails = !!details?.number;\n\n          const alert = hasOrderDetails\n            ? undefined\n            : buildAlert('Invalid order');\n\n          dispatch({\n            type: Actions.SET_DETAILS,\n            details,\n            alert,\n          });\n        })\n        .catch((error) => {\n          const knownAlert = buildAlert(error.message);\n\n          if (!knownAlert) {\n            console.error(error);\n            return;\n          }\n\n          dispatch({\n            type: Actions.ALERT,\n            alert: knownAlert,\n          });\n        });\n    },\n    [authenticated, buildAlert]\n  );\n\n  useEffect(() => {\n    if (!state.orderRef || authenticated === undefined) return;\n\n    dispatch({ type: Actions.LOADING });\n\n    fetchOrderDetails(state.orderRef);\n  }, [authenticated, fetchOrderDetails, state.orderRef]);\n\n  return {\n    state,\n    authenticated,\n    handleOrderSearch,\n    dismissAlert,\n  };\n}\n\nexport const OrderConfirmation: Container<OrderConfirmationProps> = ({\n  orderRef,\n  routeHome,\n  routeSupport,\n}) => {\n  const { state, authenticated, handleOrderSearch, dismissAlert } =\n    useOrderConfirmation(orderRef);\n\n  if (authenticated === undefined) {\n    return null;\n  }\n\n  return (\n    <Component\n      state={state}\n      dismissAlert={dismissAlert}\n      onOrderSearch={handleOrderSearch}\n      routeHome={routeHome}\n      routeSupport={routeSupport}\n    />\n  );\n};\n"],"names":["useBreakpoint","getBreakpoint","window","innerWidth","breakpoint","setBreakpoint","useState","useEffect","timeoutId","handleResize","clearTimeout","setTimeout","addEventListener","removeEventListener","Actions","ADD_ORDER_REFERENCE","LOADING","SET_DETAILS","ALERT","DISMISS_ALERT","AlertType","ERROR","WARNING","SUCCESS","AlertCode","INVALID_ORDER","INVALID_SEARCH","UNKNOWN","orderConfirmationReducer","state","action","type","isLoading","details","alert","undefined","ConditionalWrapper","children","className","_jsx","_Fragment","mapDetailsToSummary","orderDetails","total","isVirtual","is_virtual","grandTotal","grand_total","subtotal","shipping","total_shipping","tax","total_tax","inclTax","amount","value","currency","isTaxIncl","Aside","summary","_jsxs","OrderSummary","CartSummary","AsideElement","Main","routeHome","routeSupport","billingAddress","billing_address","customerName","firstname","orderNumber","number","orderStatus","status","Header","Details","Footer","MainElement","dismissAlert","onOrderSearch","OrderConfirmation","hasOrderDetails","isInvalidOrder","code","isInvalidSearch","classes","OrderSearchForm","heading","message","description","onDismiss","SvgOrderSuccess","props","React","SvgWarningFilled","HeaderSkeleton","Icon","source","OrderSuccess","size","Text","id","fields","name","order","Skeleton","SkeletonRow","variant","fullWidth","translations","useText","email","postcode","handleSubmit","event","preventDefault","formValues","getFormValues","target","Card","InLineAlert","icon","WarningFilled","onSubmit","Field","Input","autocomplete","placeholder","floatingLabel","required","Button","DetailsSkeleton","contactDetails","hasToDisplayContactDetails","shippingAddress","shipping_address","hasToDisplayShippingAddress","hasToDisplayBillingAddress","shippingMethod","shipping_method","shippingCost","shippingCurrency","hasToDisplayShippingMethod","paymentMethods","payment_methods","hasPaymentMethod","length","selectedPaymentMethod","hasToDisplayPaymentMethod","StaticSkeleton","rows","lastname","street","map","index","city","region","country_code","Price","FooterSkeleton","href","rel","Array","from","keys","i","OrderSummarySkeleton","Divider","breakdown","label","exclTax","lines","CartSummaryItem","item","taxIncluded","Sender","Recipient","price","regularPrice","priceInclTax","totalInclTax","configurations","configurableOptions","senderName","senderEmail","recipientName","recipientEmail","CartItem","title","sku","quantity","image","Image","src","alt","loading","width","height","params","weight","discounted","sale","uid","transformItems","quantity_ordered","product","thumbnail","url","product_sale_price","discount","price_range","maximum_price","regular_price","transformConfigurableOptions","__typename","gift_card","sender_name","sender_email","recipient_email","recipient_name","option","selected_options","CartSummarySkeleton","items","totalQuantity","cartItem","style","gridTemplateColumns","CartItemSkeleton","useOrderConfirmation","orderRef","dispatch","useReducer","authenticated","setAuthenticated","invalidOrder","invalidSearch","pageNotFound","unknown","buildAlert","useCallback","handleOrderSearch","fetchFormOrderDetails","customerAuthenticated","events","on","isAuthenticated","eager","off","then","catch","fetchOrderDetails","customerOrder","guestOrderByToken","error","knownAlert","console","Component"],"mappings":"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","x_google_ignoreList":[3,4]}