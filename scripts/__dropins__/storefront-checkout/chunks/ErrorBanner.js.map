{"version":3,"file":"ErrorBanner.js","sources":["../../node_modules/@adobe/elsie/src/icons/WarningFilled.svg","../../src/containers/ErrorBanner/ErrorBanner.tsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgWarningFilled = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 20.8953L12.1922 1.5L23.395 20.8953H1ZM13.0278 13.9638L13.25 10.0377V9H11.25V10.0377L11.4722 13.9638H13.0278ZM11.2994 16V17.7509H13.2253V16H11.2994Z\", fill: \"currentColor\" }));\nexport default SvgWarningFilled;\n","import { FunctionComponent, useEffect, useState } from 'preact/compat';\nimport { useText } from '@adobe/elsie/i18n';\nimport { events } from '@adobe/event-bus';\nimport { AlertBanner, AlertBannerProps, Icon } from '@adobe/elsie/components';\nimport { WarningFilled } from '@adobe/elsie/icons';\n\nexport const ErrorBanner: FunctionComponent<Partial<AlertBannerProps>> = (\n  props\n) => {\n  const [hasError, setHasError] = useState<boolean>(false);\n\n  useEffect(() => {\n    const subscription = events.on('error', (data) => {\n      if (data?.source === 'checkout' && data?.type === 'network') {\n        setHasError(true);\n      }\n    });\n    return () => {\n      subscription?.off();\n    };\n  }, []);\n\n  const onDismiss = () => {\n    setHasError(false);\n  };\n\n  const translations = useText({\n    message: 'Checkout.ErrorBanner.genericMessage',\n    label: 'Checkout.ErrorBanner.dismissLabel',\n  });\n\n  if (!hasError) return null;\n\n  return (\n    <AlertBanner\n      {...props}\n      data-testid=\"error-banner\"\n      icon={<Icon source={WarningFilled} />}\n      message={<span>{translations.message}</span>}\n      onDismiss={onDismiss}\n      variant=\"warning\"\n    />\n  );\n};\n"],"names":["SvgWarningFilled","props","React","ErrorBanner","hasError","setHasError","useState","useEffect","subscription","events","on","data","source","type","off","onDismiss","translations","useText","message","label","_jsx","AlertBanner","icon","Icon","WarningFilled","children","variant"],"mappings":"kWACA,MAAMA,EAAoBC,GAA0BC,EAAM,cAAc,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAI,QAAS,YAAa,KAAM,OAAQ,MAAO,6BAA8B,GAAGD,CAAO,EAAkBC,EAAM,cAAc,OAAQ,CAAE,aAAc,qBAAsB,SAAU,UAAW,SAAU,UAAW,EAAG,yJAA0J,KAAM,cAAc,CAAE,CAAC,ECKheC,EAERF,GAAA,CACH,KAAM,CAACG,EAAUC,CAAW,EAAIC,EAAkB,EAAK,EAEvDC,EAAU,IAAM,CACd,MAAMC,EAAeC,EAAOC,GAAG,QAAmBC,GAAA,EAC5CA,GAAAA,YAAAA,EAAMC,UAAW,aAAcD,GAAAA,YAAAA,EAAME,QAAS,WAChDR,EAAY,EAAI,CAClB,CACD,EACD,MAAO,IAAM,CACXG,GAAAA,MAAAA,EAAcM,KAAI,CAEtB,EAAG,CAAE,CAAA,EAEL,MAAMC,EAAYA,IAAM,CACtBV,EAAY,EAAK,CAAA,EAGbW,EAAeC,EAAQ,CAC3BC,QAAS,sCACTC,MAAO,mCAAA,CACR,EAED,OAAKf,EAGHgB,EAACC,EAAW,CAAA,GACNpB,EACJ,cAAY,eACZqB,KAAMF,EAACG,EAAI,CAACX,OAAQY,CAAAA,CAAgB,EACpCN,QAASE,EAAA,OAAA,CAAAK,SAAOT,EAAaE,OAAAA,CAAc,EAC3CH,UAAAA,EACAW,QAAQ,SAAA,CACT,EAVmB,IAYxB","x_google_ignoreList":[0]}